<!-- popup.html -->
<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="hint.min.css">
    <link rel="stylesheet" type="text/css" href="popup.css">
    <script src="../browser-polyfill.js"></script>
    <script src="json-viewer.bundle.js"></script>
</head>

<body>
    <h1><img src="32.png" class="jwtTrackerLogo" />JWT Tracker</h1>
    <div class="topButtons">
        <div id="request-permissions-current" class="hint--left" aria-label="Grant access to current website"></div>
        <div id="request-permissions-all" class="hint--left" aria-label="Grant access to all websites"></div>
        <div id="clear-storage" class="hint--left" aria-label="Clear requests for current tab"></div>
        <div id="go-to-options" class="hint--left" aria-label="Edit options"></div>
    </div>
    <h3 id="nopermissions">Extension has no permission for current website!</h3>
    <h3 id="notokens">No available JWT or SAML information found!</h3>
    <div id="tokensmain">
        <div class="tokensmaincontent">
            <div class="subtitle">Last requests (grouped by initiator)</div>
            <select id="availableTokens">
                <!-- Options will be added here dynamically -->
            </select>
            <div id="jwtcontent">
                <div id="tokennotexpired" class="subtitle">Token is expiring in <span id="expseconds"></span></div>
                <div id="tokenexpired" class="subtitle">Token has already expired</span></div>
                <div class="subtitle">Payload</div>
                <div id="payloadControlPanel">
                    <button id="btnExpandAll" class="hint--right" aria-label="Expand all">&#9662;</button>
                    <button id="btnCollapseAll" class="hint--right" aria-label="Collapse all">&#9656;</button>
                    <span class="hint--right"
                        aria-label="Use regex to filter particular elements in path (not for values)">
                        <input id="filterPayload" type="text" placeholder="Filter path" />
                    </span>
                    <span class="hint--bottom" aria-label="Search for values in the payload (for example, '.com')">
                        <input id="searchPayload" type="text" placeholder="Search value" />
                    </span>
                    <button id="btnCopyDecoded" class="hint--bottom"
                        aria-label="Copy decoded token to the clipboard">Copy
                        decoded</button>
                    <button id="btnCopyEncoded" class="hint--left" aria-label="Copy encoded token to the clipboard">Copy
                        encoded</button>
                </div>
                <json-viewer id="jwtPayload"></json-viewer>
                <div class="subtitle">Header</div>
                <json-viewer id="jwtHeader"></json-viewer>
            </div>
            <div id="samlcontent">
                <div id="samlControlPanel">
                    <button id="btnSamlExpandAll" class="hint--right" aria-label="Expand all">&#9662;</button>
                    <button id="btnSamlCollapseAll" class="hint--right" aria-label="Collapse all">&#9656;</button>
                    <span class="hint--right"
                        aria-label="Use regex to filter particular elements in path (not for values)">
                        <input id="filterSamlPayload" type="text" placeholder="Filter path" />
                    </span>
                    <span class="hint--bottom" aria-label="Search for values in the payload (for example, '.com')">
                        <input id="searchSamlPayload" type="text" placeholder="Search value" />
                    </span>
                    <button id="btnCopySaml" class="hint--bottom" aria-label="Copy Saml to the clipboard">Copy
                        SAML</button>
                </div>
                <json-viewer id="samlPayload"></json-viewer>
                <div id="saml"></div>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>